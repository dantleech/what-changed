{
    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/compare\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3...f0252a5ab6b4a293fb25f218d9c64386f272280f",
    "html_url": "https:\/\/github.com\/phpstan\/phpstan\/compare\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3...f0252a5ab6b4a293fb25f218d9c64386f272280f",
    "permalink_url": "https:\/\/github.com\/phpstan\/phpstan\/compare\/phpstan:c896a1a...phpstan:f0252a5",
    "diff_url": "https:\/\/github.com\/phpstan\/phpstan\/compare\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3...f0252a5ab6b4a293fb25f218d9c64386f272280f.diff",
    "patch_url": "https:\/\/github.com\/phpstan\/phpstan\/compare\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3...f0252a5ab6b4a293fb25f218d9c64386f272280f.patch",
    "base_commit": {
        "sha": "c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3",
        "node_id": "MDY6Q29tbWl0NDkwMTQ3OTU6Yzg5NmExYTM2N2NjYjc5YWVmOWFjM2FkNzE0MDY3NWQwYTdiMGZhMw==",
        "commit": {
            "author": {
                "name": "Jan Tvrdik",
                "email": "jan.tvrdik@gmail.com",
                "date": "2018-11-20T18:11:54Z"
            },
            "committer": {
                "name": "Ond\u0159ej Mirtes",
                "email": "ondrej@mirtes.cz",
                "date": "2018-11-28T08:56:51Z"
            },
            "message": "fix HasMethodType and ObjectType::hasMethod()",
            "tree": {
                "sha": "315e5ae23cb6daac4088a7ca27d687c344df2b1d",
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/trees\/315e5ae23cb6daac4088a7ca27d687c344df2b1d"
            },
            "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/commits\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3",
            "comment_count": 0,
            "verification": {
                "verified": false,
                "reason": "unsigned",
                "signature": null,
                "payload": null
            }
        },
        "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3",
        "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3",
        "comments_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/c896a1a367ccb79aef9ac3ad7140675d0a7b0fa3\/comments",
        "author": {
            "login": "JanTvrdik",
            "id": 175109,
            "node_id": "MDQ6VXNlcjE3NTEwOQ==",
            "avatar_url": "https:\/\/avatars1.githubusercontent.com\/u\/175109?v=4",
            "gravatar_id": "",
            "url": "https:\/\/api.github.com\/users\/JanTvrdik",
            "html_url": "https:\/\/github.com\/JanTvrdik",
            "followers_url": "https:\/\/api.github.com\/users\/JanTvrdik\/followers",
            "following_url": "https:\/\/api.github.com\/users\/JanTvrdik\/following{\/other_user}",
            "gists_url": "https:\/\/api.github.com\/users\/JanTvrdik\/gists{\/gist_id}",
            "starred_url": "https:\/\/api.github.com\/users\/JanTvrdik\/starred{\/owner}{\/repo}",
            "subscriptions_url": "https:\/\/api.github.com\/users\/JanTvrdik\/subscriptions",
            "organizations_url": "https:\/\/api.github.com\/users\/JanTvrdik\/orgs",
            "repos_url": "https:\/\/api.github.com\/users\/JanTvrdik\/repos",
            "events_url": "https:\/\/api.github.com\/users\/JanTvrdik\/events{\/privacy}",
            "received_events_url": "https:\/\/api.github.com\/users\/JanTvrdik\/received_events",
            "type": "User",
            "site_admin": false
        },
        "committer": {
            "login": "ondrejmirtes",
            "id": 104888,
            "node_id": "MDQ6VXNlcjEwNDg4OA==",
            "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
            "gravatar_id": "",
            "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
            "html_url": "https:\/\/github.com\/ondrejmirtes",
            "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
            "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
            "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
            "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
            "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
            "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
            "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
            "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
            "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
            "type": "User",
            "site_admin": false
        },
        "parents": [
            {
                "sha": "6851da8e97388f66c641211adee8cb3ba9f53332",
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/6851da8e97388f66c641211adee8cb3ba9f53332",
                "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/6851da8e97388f66c641211adee8cb3ba9f53332"
            }
        ]
    },
    "merge_base_commit": {
        "sha": "81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
        "node_id": "MDY6Q29tbWl0NDkwMTQ3OTU6ODFmYzg5N2FkYjdhNmVmYTVjNjhmOWU3MzBlY2Y0MTY4ZGQwYmY2Zg==",
        "commit": {
            "author": {
                "name": "Ondrej Mirtes",
                "email": "ondrej@mirtes.cz",
                "date": "2018-10-30T13:46:47Z"
            },
            "committer": {
                "name": "Ondrej Mirtes",
                "email": "ondrej@mirtes.cz",
                "date": "2018-10-30T13:46:47Z"
            },
            "message": "PHAR failure is no longer allowed",
            "tree": {
                "sha": "b519b12c0734d113cb75bcfd0634023881fc80a2",
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/trees\/b519b12c0734d113cb75bcfd0634023881fc80a2"
            },
            "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/commits\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
            "comment_count": 0,
            "verification": {
                "verified": true,
                "reason": "valid",
                "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEGasfuJ71iMlu8KALjnMLolgj2LUFAlvYYMwACgkQjnMLolgj\n2LVoQAf8CvtU\/N63x0Oot+QsPz+vECKHIdEqNhdDo1exD5f65i0QXbPhBX7eU+kY\nKkTiknQEpcvAh+\/9SBmfWXTB\/e7YiFUIftgTUvIjSkCWImggkA8WcR8vRi6aWsig\nJFKms9B5jM+yhKmwFKBee2ULkFOYaVEHcN7Nv0GWkuzMg7cYbaQj7UMA7rk1BX70\n8wRnrdrBRblj6FgHbyKOSvDZOJFHqZCYD2KTAz3PIuQIdwCE6pB7qu+wClnRkPiJ\n9d5C\/Aet6+RW+lh0S0T1CwrJTY4uNhRvyaVjF8Twr89eman+Wih7k92qWkylNjHF\nTGg3uTWJWtX9AKzaDWMBAr24gj9Seg==\n=auU1\n-----END PGP SIGNATURE-----",
                "payload": "tree b519b12c0734d113cb75bcfd0634023881fc80a2\nparent daf768836c9a8f33b40890ce34c015264796b6de\nauthor Ondrej Mirtes <ondrej@mirtes.cz> 1540907207 +0100\ncommitter Ondrej Mirtes <ondrej@mirtes.cz> 1540907207 +0100\n\nPHAR failure is no longer allowed\n"
            }
        },
        "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
        "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
        "comments_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f\/comments",
        "author": {
            "login": "ondrejmirtes",
            "id": 104888,
            "node_id": "MDQ6VXNlcjEwNDg4OA==",
            "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
            "gravatar_id": "",
            "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
            "html_url": "https:\/\/github.com\/ondrejmirtes",
            "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
            "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
            "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
            "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
            "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
            "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
            "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
            "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
            "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
            "type": "User",
            "site_admin": false
        },
        "committer": {
            "login": "ondrejmirtes",
            "id": 104888,
            "node_id": "MDQ6VXNlcjEwNDg4OA==",
            "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
            "gravatar_id": "",
            "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
            "html_url": "https:\/\/github.com\/ondrejmirtes",
            "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
            "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
            "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
            "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
            "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
            "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
            "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
            "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
            "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
            "type": "User",
            "site_admin": false
        },
        "parents": [
            {
                "sha": "daf768836c9a8f33b40890ce34c015264796b6de",
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/daf768836c9a8f33b40890ce34c015264796b6de",
                "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/daf768836c9a8f33b40890ce34c015264796b6de"
            }
        ]
    },
    "status": "diverged",
    "ahead_by": 3,
    "behind_by": 108,
    "total_commits": 3,
    "commits": [
        {
            "sha": "7888e6edf63065220e656055ff1f7a3c54e853a1",
            "node_id": "MDY6Q29tbWl0NDkwMTQ3OTU6Nzg4OGU2ZWRmNjMwNjUyMjBlNjU2MDU1ZmYxZjdhM2M1NGU4NTNhMQ==",
            "commit": {
                "author": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-03T20:43:08Z"
                },
                "committer": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-04T07:28:03Z"
                },
                "message": "Support for is_countable()",
                "tree": {
                    "sha": "a8a17d242d320103f783e2b7dc188708c1ff5de6",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/trees\/a8a17d242d320103f783e2b7dc188708c1ff5de6"
                },
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/commits\/7888e6edf63065220e656055ff1f7a3c54e853a1",
                "comment_count": 0,
                "verification": {
                    "verified": true,
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEGasfuJ71iMlu8KALjnMLolgj2LUFAlwGLIMACgkQjnMLolgj\n2LVT9AgAgYc0jOcJi3HJPclQgOB0eovLsE+5y7aplzOGntU\/11btVgVusH+inrxo\nzaFKv7G9HFIS0tedumj4zLRyQlD74EyAJin4vrgP83RJPAwQYZ0r2glSvtFhLhnD\niwhCJZERM0O2uar+M93\/EqJzXAuC+LWKHTHuWEQp9WFFC9hZFUUVDJYrUYvBNyci\ngGB5pPezbImxz1w8pSB8eJamYv\/DkvJiG8E+qKDdz2maGeYyIRd\/+bMmdUtbbcRe\n5faZalMtgUP9QZ8WJ\/WPujBnHb7fe1eBP3tV4ODEsww1naQC5ea37bLjJqWqu8R5\n+aaxhZIFoNr+HRWusYbvhqx1ZRW3uQ==\n=tE0Y\n-----END PGP SIGNATURE-----",
                    "payload": "tree a8a17d242d320103f783e2b7dc188708c1ff5de6\nparent 81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f\nauthor Ondrej Mirtes <ondrej@mirtes.cz> 1543869788 +0100\ncommitter Ondrej Mirtes <ondrej@mirtes.cz> 1543908483 +0100\n\nSupport for is_countable()\n"
                }
            },
            "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/7888e6edf63065220e656055ff1f7a3c54e853a1",
            "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/7888e6edf63065220e656055ff1f7a3c54e853a1",
            "comments_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/7888e6edf63065220e656055ff1f7a3c54e853a1\/comments",
            "author": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "committer": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "parents": [
                {
                    "sha": "81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f",
                    "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/81fc897adb7a6efa5c68f9e730ecf4168dd0bf6f"
                }
            ]
        },
        {
            "sha": "d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
            "node_id": "MDY6Q29tbWl0NDkwMTQ3OTU6ZDk4YzdjYTFjYjYyNTVmNGVhMDU5ODJkMThiOGI0YzAzZjk4OWFiZg==",
            "commit": {
                "author": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-03T21:26:56Z"
                },
                "committer": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-04T07:28:04Z"
                },
                "message": "Support for JSON_THROW_ON_ERROR",
                "tree": {
                    "sha": "5612d57e6d16f09dd20454833efb7ef2035efe54",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/trees\/5612d57e6d16f09dd20454833efb7ef2035efe54"
                },
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/commits\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
                "comment_count": 0,
                "verification": {
                    "verified": true,
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEGasfuJ71iMlu8KALjnMLolgj2LUFAlwGLIQACgkQjnMLolgj\n2LVgTAf8D3IqGEmFpyTf37cGSB1c6xiDP7tRpohcUSun7htibB7pY9XkB8nM872I\n9TMb3lMwZ7664CPrUyZOi0AfvETLOmqadXG4XxMBZwCCBUmB4FcFg5OA7J85LAIQ\nnTQTo3nwaFHD8h0ezyjQc2SHCI\/HrxRVeEVszh9eudfwkujj6\/Ag678P9yHyDXxI\ngPNTZkaMbRVXoedR4GbiFBmhg0Svn1ZqirNR2H\/kxTXCeFo5qgdd61ZmO6Tb7kKO\nulqqL9gi\/L3P+QFYJA50FZvpxHh2Am7QDP7aSzq4i6sOAM5Ld4yjMlJKyMQXwNkS\nyqLgq93JNeGBFni9X1B7fJX1o\/R9Qw==\n=vaiZ\n-----END PGP SIGNATURE-----",
                    "payload": "tree 5612d57e6d16f09dd20454833efb7ef2035efe54\nparent 7888e6edf63065220e656055ff1f7a3c54e853a1\nauthor Ondrej Mirtes <ondrej@mirtes.cz> 1543872416 +0100\ncommitter Ondrej Mirtes <ondrej@mirtes.cz> 1543908484 +0100\n\nSupport for JSON_THROW_ON_ERROR\n"
                }
            },
            "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
            "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
            "comments_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf\/comments",
            "author": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "committer": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "parents": [
                {
                    "sha": "7888e6edf63065220e656055ff1f7a3c54e853a1",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/7888e6edf63065220e656055ff1f7a3c54e853a1",
                    "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/7888e6edf63065220e656055ff1f7a3c54e853a1"
                }
            ]
        },
        {
            "sha": "f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "node_id": "MDY6Q29tbWl0NDkwMTQ3OTU6ZjAyNTJhNWFiNmI0YTI5M2ZiMjVmMjE4ZDljNjQzODZmMjcyMjgwZg==",
            "commit": {
                "author": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-03T23:21:12Z"
                },
                "committer": {
                    "name": "Ondrej Mirtes",
                    "email": "ondrej@mirtes.cz",
                    "date": "2018-12-04T07:28:04Z"
                },
                "message": "Support for array_key_first\/array_key_last",
                "tree": {
                    "sha": "bc135b24f6f82d89df98efb5257c0b251a15a6a9",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/trees\/bc135b24f6f82d89df98efb5257c0b251a15a6a9"
                },
                "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/git\/commits\/f0252a5ab6b4a293fb25f218d9c64386f272280f",
                "comment_count": 0,
                "verification": {
                    "verified": true,
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEGasfuJ71iMlu8KALjnMLolgj2LUFAlwGLIQACgkQjnMLolgj\n2LXPVQf+KAfvxj4CWqJeeyG0V5Pehw8fnDAoMU2sLFKd3MUXEyJE+wVLSVAv3urb\nZkjtx4dCa+wudQnNNNMxf\/J0\/h7LGKM3VznVYfUZH6GGZ2otapY4fMyMFyu9xeqQ\nTm6r6qd5+fNfsF2Xu8j5mIpbq2fVHayWysXQJa5zB7JcM5un0qY6+uZrJBeSeo42\nYCQFAasqeVN\/KyBtoOUqrrkv7maGyg+8pLW5UeHG3NUZdCswGlL\/Vmbo\/2cKu5su\nxbG1stMJvcdo78EDKpmmlvCBR2Nq3Vv3egPLPuk03ieBG570a6YwjIcP8kkKFKcQ\nLV4AIdpg2ypwbfkFHdx0mxh6dGI4rw==\n=5boP\n-----END PGP SIGNATURE-----",
                    "payload": "tree bc135b24f6f82d89df98efb5257c0b251a15a6a9\nparent d98c7ca1cb6255f4ea05982d18b8b4c03f989abf\nauthor Ondrej Mirtes <ondrej@mirtes.cz> 1543879272 +0100\ncommitter Ondrej Mirtes <ondrej@mirtes.cz> 1543908484 +0100\n\nSupport for array_key_first\/array_key_last\n"
                }
            },
            "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "comments_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/comments",
            "author": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "committer": {
                "login": "ondrejmirtes",
                "id": 104888,
                "node_id": "MDQ6VXNlcjEwNDg4OA==",
                "avatar_url": "https:\/\/avatars0.githubusercontent.com\/u\/104888?v=4",
                "gravatar_id": "",
                "url": "https:\/\/api.github.com\/users\/ondrejmirtes",
                "html_url": "https:\/\/github.com\/ondrejmirtes",
                "followers_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/followers",
                "following_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/following{\/other_user}",
                "gists_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/gists{\/gist_id}",
                "starred_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/starred{\/owner}{\/repo}",
                "subscriptions_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/subscriptions",
                "organizations_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/orgs",
                "repos_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/repos",
                "events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/events{\/privacy}",
                "received_events_url": "https:\/\/api.github.com\/users\/ondrejmirtes\/received_events",
                "type": "User",
                "site_admin": false
            },
            "parents": [
                {
                    "sha": "d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
                    "url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/commits\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf",
                    "html_url": "https:\/\/github.com\/phpstan\/phpstan\/commit\/d98c7ca1cb6255f4ea05982d18b8b4c03f989abf"
                }
            ]
        }
    ],
    "files": [
        {
            "sha": "91ea075b7d8ac235a1948390156ff85d2def3aa2",
            "filename": "build.xml",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build.xml",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build.xml",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/build.xml?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -190,6 +190,7 @@\n \n \t<target name=\"phpstan\">\n \t\t<property name=\"phpstan.config\" value=\"build\/phpstan-generated.neon\"\/>\n+\t\t<php expression=\"PHP_VERSION_ID &gt;= 70300 ?'true':'false'\" returnProperty=\"isPHP73\" level=\"verbose\" \/>\n \t\t<touch file=\"${phpstan.config}\"\/>\n \t\t<append\n \t\t\tdestFile=\"${phpstan.config}\"\n@@ -205,6 +206,15 @@\n \t\t\t\t><\/append>\n \t\t\t<\/then>\n \t\t<\/if>\n+\t\t<if>\n+\t\t\t<equals arg1=\"${isPHP73}\" arg2=\"false\" \/>\n+\t\t\t<then>\n+\t\t\t\t<append\n+\t\t\t\t\t\tdestFile=\"${phpstan.config}\"\n+\t\t\t\t\t\ttext=\", ignore-lt-php7.3-errors.neon\"\n+\t\t\t\t><\/append>\n+\t\t\t<\/then>\n+\t\t<\/if>\n \t\t<append\n \t\t\t\tdestFile=\"${phpstan.config}\"\n \t\t\t\ttext=\" ]\""
        },
        {
            "sha": "eb7d7966a0ca017a93f1cac948c8b3c519be2f3d",
            "filename": "build\/composer-require-checker.json",
            "status": "modified",
            "additions": 2,
            "deletions": 1,
            "changes": 3,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build\/composer-require-checker.json",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build\/composer-require-checker.json",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/build\/composer-require-checker.json?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -3,7 +3,8 @@\n     \"null\", \"true\", \"false\",\n     \"static\", \"self\", \"parent\",\n     \"array\", \"string\", \"int\", \"float\", \"bool\", \"iterable\", \"callable\", \"void\", \"object\",\n-    \"PHPUnit\\\\Framework\\\\TestCase\", \"PHPUnit\\\\Framework\\\\AssertionFailedError\"\n+    \"PHPUnit\\\\Framework\\\\TestCase\", \"PHPUnit\\\\Framework\\\\AssertionFailedError\",\n+    \"JSON_THROW_ON_ERROR\"\n   ],\n   \"php-core-extensions\" : [\n     \"Core\","
        },
        {
            "sha": "25cef354e2ce06abed28fbd2988e72519445c12a",
            "filename": "build\/ignore-lt-php7.3-errors.neon",
            "status": "added",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build\/ignore-lt-php7.3-errors.neon",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/build\/ignore-lt-php7.3-errors.neon",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/build\/ignore-lt-php7.3-errors.neon?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,3 @@\n+parameters:\n+\tignoreErrors:\n+\t\t- '#Constant JSON_THROW_ON_ERROR not found#'"
        },
        {
            "sha": "87ef6d5cc2707c25a8d7cf8174f875fe2fda9a4a",
            "filename": "conf\/config.neon",
            "status": "modified",
            "additions": 20,
            "deletions": 0,
            "changes": 20,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/conf\/config.neon",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/conf\/config.neon",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/conf\/config.neon?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -269,6 +269,16 @@ services:\n \t\ttags:\n \t\t\t- phpstan.typeSpecifier.functionTypeSpecifyingExtension\n \n+\t-\n+\t\tclass: PHPStan\\Type\\Php\\ArrayKeyFirstDynamicReturnTypeExtension\n+\t\ttags:\n+\t\t\t- phpstan.broker.dynamicFunctionReturnTypeExtension\n+\n+\t-\n+\t\tclass: PHPStan\\Type\\Php\\ArrayKeyLastDynamicReturnTypeExtension\n+\t\ttags:\n+\t\t\t- phpstan.broker.dynamicFunctionReturnTypeExtension\n+\n \t-\n \t\tclass: PHPStan\\Type\\Php\\ArrayKeysFunctionDynamicReturnTypeExtension\n \t\ttags:\n@@ -455,6 +465,11 @@ services:\n \t\ttags:\n \t\t\t- phpstan.typeSpecifier.functionTypeSpecifyingExtension\n \n+\t-\n+\t\tclass: PHPStan\\Type\\Php\\IsCountableFunctionTypeSpecifyingExtension\n+\t\ttags:\n+\t\t\t- phpstan.typeSpecifier.functionTypeSpecifyingExtension\n+\n \t-\n \t\tclass: PHPStan\\Type\\Php\\IsResourceFunctionTypeSpecifyingExtension\n \t\ttags:\n@@ -495,6 +510,11 @@ services:\n \t\ttags:\n \t\t\t- phpstan.typeSpecifier.functionTypeSpecifyingExtension\n \n+\t-\n+\t\tclass: PHPStan\\Type\\Php\\JsonThrowOnErrorDynamicReturnTypeExtension\n+\t\ttags:\n+\t\t\t- phpstan.broker.dynamicFunctionReturnTypeExtension\n+\n \t-\n \t\tclass: PHPStan\\Type\\Php\\TypeSpecifyingFunctionsDynamicReturnTypeExtension\n \t\ttags:"
        },
        {
            "sha": "067941b1f7b885763861ad4df0400919977f6545",
            "filename": "src\/Reflection\/SignatureMap\/functionMap.php",
            "status": "modified",
            "additions": 3,
            "deletions": 0,
            "changes": 3,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Reflection\/SignatureMap\/functionMap.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Reflection\/SignatureMap\/functionMap.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Reflection\/SignatureMap\/functionMap.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -280,6 +280,8 @@\n 'array_intersect_uassoc\\'1' => ['array', 'arr1'=>'array', 'arr2'=>'array', 'arr3'=>'array', 'arg4'=>'array|callable', '...rest'=>'array|callable'],\n 'array_intersect_ukey' => ['array', 'arr1'=>'array', 'arr2'=>'array', 'key_compare_func'=>'callable'],\n 'array_intersect_ukey\\'1' => ['array', 'arr1'=>'array', 'arr2'=>'array', 'arr3'=>'array', 'arg4'=>'array|callable', '...rest'=>'array|callable'],\n+'array_key_first' => ['int|string|null', 'array' => 'array'],\n+'array_key_last' => ['int|string|null', 'array' => 'array'],\n 'array_key_exists' => ['bool', 'key'=>'string|int', 'search'=>'array'],\n 'array_keys' => ['array', 'input'=>'array', 'search_value='=>'mixed', 'strict='=>'bool'],\n 'array_map' => ['array', 'callback'=>'?callable', 'input1'=>'array', '...args='=>'array'],\n@@ -5620,6 +5622,7 @@\n 'is_array' => ['bool', 'var'=>'mixed'],\n 'is_bool' => ['bool', 'var'=>'mixed'],\n 'is_callable' => ['bool', 'var'=>'mixed', 'syntax_only='=>'bool', '&w_callable_name='=>'string'],\n+'is_countable' => ['bool', 'var'=>'mixed'],\n 'is_dir' => ['bool', 'filename'=>'string'],\n 'is_double' => ['bool', 'var'=>''],\n 'is_executable' => ['bool', 'filename'=>'string'],"
        },
        {
            "sha": "ee21b5985b6172978e027cea75ae0a46d9b9073d",
            "filename": "src\/Type\/ArrayType.php",
            "status": "modified",
            "additions": 10,
            "deletions": 0,
            "changes": 10,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/ArrayType.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/ArrayType.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/ArrayType.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -268,6 +268,16 @@ public function getLastValueType(): Type\n \t\treturn $this->getFirstValueType();\n \t}\n \n+\tpublic function getFirstKeyType(): Type\n+\t{\n+\t\treturn TypeCombinator::union($this->getIterableKeyType(), new NullType());\n+\t}\n+\n+\tpublic function getLastKeyType(): Type\n+\t{\n+\t\treturn $this->getFirstKeyType();\n+\t}\n+\n \tpublic static function castToArrayKeyType(Type $offsetType): Type\n \t{\n \t\tif ($offsetType instanceof UnionType) {"
        },
        {
            "sha": "f54ad1585bff31b7c391cc7c8675c2274a229dfa",
            "filename": "src\/Type\/Constant\/ConstantArrayType.php",
            "status": "modified",
            "additions": 19,
            "deletions": 0,
            "changes": 19,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Constant\/ConstantArrayType.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Constant\/ConstantArrayType.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/Constant\/ConstantArrayType.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -365,6 +365,25 @@ public function getLastValueType(): Type\n \t\treturn $this->valueTypes[$length - 1];\n \t}\n \n+\tpublic function getFirstKeyType(): Type\n+\t{\n+\t\tif (count($this->keyTypes) === 0) {\n+\t\t\treturn new NullType();\n+\t\t}\n+\n+\t\treturn $this->keyTypes[0];\n+\t}\n+\n+\tpublic function getLastKeyType(): Type\n+\t{\n+\t\t$length = count($this->keyTypes);\n+\t\tif ($length === 0) {\n+\t\t\treturn new NullType();\n+\t\t}\n+\n+\t\treturn $this->keyTypes[$length - 1];\n+\t}\n+\n \tpublic function toBoolean(): BooleanType\n \t{\n \t\treturn new ConstantBooleanType(count($this->keyTypes) > 0);"
        },
        {
            "sha": "14a88796eb1c938120193a8f1fecaac9ccd77d26",
            "filename": "src\/Type\/Php\/ArrayKeyFirstDynamicReturnTypeExtension.php",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/ArrayKeyFirstDynamicReturnTypeExtension.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/ArrayKeyFirstDynamicReturnTypeExtension.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/Php\/ArrayKeyFirstDynamicReturnTypeExtension.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,41 @@\n+<?php declare(strict_types = 1);\n+\n+namespace PHPStan\\Type\\Php;\n+\n+use PhpParser\\Node\\Expr\\FuncCall;\n+use PHPStan\\Analyser\\Scope;\n+use PHPStan\\Reflection\\FunctionReflection;\n+use PHPStan\\Reflection\\ParametersAcceptorSelector;\n+use PHPStan\\Type\\Type;\n+use PHPStan\\Type\\TypeCombinator;\n+use PHPStan\\Type\\TypeUtils;\n+\n+class ArrayKeyFirstDynamicReturnTypeExtension implements \\PHPStan\\Type\\DynamicFunctionReturnTypeExtension\n+{\n+\n+\tpublic function isFunctionSupported(FunctionReflection $functionReflection): bool\n+\t{\n+\t\treturn $functionReflection->getName() === 'array_key_first';\n+\t}\n+\n+\tpublic function getTypeFromFunctionCall(FunctionReflection $functionReflection, FuncCall $functionCall, Scope $scope): Type\n+\t{\n+\t\tif (!isset($functionCall->args[0])) {\n+\t\t\treturn ParametersAcceptorSelector::selectSingle($functionReflection->getVariants())->getReturnType();\n+\t\t}\n+\n+\t\t$argType = $scope->getType($functionCall->args[0]->value);\n+\t\t$arrayTypes = TypeUtils::getArrays($argType);\n+\t\tif (count($arrayTypes) > 0) {\n+\t\t\t$resultTypes = [];\n+\t\t\tforeach ($arrayTypes as $arrayType) {\n+\t\t\t\t$resultTypes[] = $arrayType->getFirstKeyType();\n+\t\t\t}\n+\n+\t\t\treturn TypeCombinator::union(...$resultTypes);\n+\t\t}\n+\n+\t\treturn ParametersAcceptorSelector::selectSingle($functionReflection->getVariants())->getReturnType();\n+\t}\n+\n+}"
        },
        {
            "sha": "b412f044a338b3b546208135f76420a20691acf3",
            "filename": "src\/Type\/Php\/ArrayKeyLastDynamicReturnTypeExtension.php",
            "status": "added",
            "additions": 41,
            "deletions": 0,
            "changes": 41,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/ArrayKeyLastDynamicReturnTypeExtension.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/ArrayKeyLastDynamicReturnTypeExtension.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/Php\/ArrayKeyLastDynamicReturnTypeExtension.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,41 @@\n+<?php declare(strict_types = 1);\n+\n+namespace PHPStan\\Type\\Php;\n+\n+use PhpParser\\Node\\Expr\\FuncCall;\n+use PHPStan\\Analyser\\Scope;\n+use PHPStan\\Reflection\\FunctionReflection;\n+use PHPStan\\Reflection\\ParametersAcceptorSelector;\n+use PHPStan\\Type\\Type;\n+use PHPStan\\Type\\TypeCombinator;\n+use PHPStan\\Type\\TypeUtils;\n+\n+class ArrayKeyLastDynamicReturnTypeExtension implements \\PHPStan\\Type\\DynamicFunctionReturnTypeExtension\n+{\n+\n+\tpublic function isFunctionSupported(FunctionReflection $functionReflection): bool\n+\t{\n+\t\treturn $functionReflection->getName() === 'array_key_last';\n+\t}\n+\n+\tpublic function getTypeFromFunctionCall(FunctionReflection $functionReflection, FuncCall $functionCall, Scope $scope): Type\n+\t{\n+\t\tif (!isset($functionCall->args[0])) {\n+\t\t\treturn ParametersAcceptorSelector::selectSingle($functionReflection->getVariants())->getReturnType();\n+\t\t}\n+\n+\t\t$argType = $scope->getType($functionCall->args[0]->value);\n+\t\t$arrayTypes = TypeUtils::getArrays($argType);\n+\t\tif (count($arrayTypes) > 0) {\n+\t\t\t$resultTypes = [];\n+\t\t\tforeach ($arrayTypes as $arrayType) {\n+\t\t\t\t$resultTypes[] = $arrayType->getLastKeyType();\n+\t\t\t}\n+\n+\t\t\treturn TypeCombinator::union(...$resultTypes);\n+\t\t}\n+\n+\t\treturn ParametersAcceptorSelector::selectSingle($functionReflection->getVariants())->getReturnType();\n+\t}\n+\n+}"
        },
        {
            "sha": "0e6886c11d36b3398f598311badf55fbc70497f7",
            "filename": "src\/Type\/Php\/IsCountableFunctionTypeSpecifyingExtension.php",
            "status": "added",
            "additions": 52,
            "deletions": 0,
            "changes": 52,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/IsCountableFunctionTypeSpecifyingExtension.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/IsCountableFunctionTypeSpecifyingExtension.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/Php\/IsCountableFunctionTypeSpecifyingExtension.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,52 @@\n+<?php declare(strict_types = 1);\n+\n+namespace PHPStan\\Type\\Php;\n+\n+use PhpParser\\Node\\Expr\\FuncCall;\n+use PHPStan\\Analyser\\Scope;\n+use PHPStan\\Analyser\\SpecifiedTypes;\n+use PHPStan\\Analyser\\TypeSpecifier;\n+use PHPStan\\Analyser\\TypeSpecifierAwareExtension;\n+use PHPStan\\Analyser\\TypeSpecifierContext;\n+use PHPStan\\Reflection\\FunctionReflection;\n+use PHPStan\\Type\\ArrayType;\n+use PHPStan\\Type\\FunctionTypeSpecifyingExtension;\n+use PHPStan\\Type\\MixedType;\n+use PHPStan\\Type\\ObjectType;\n+use PHPStan\\Type\\UnionType;\n+\n+class IsCountableFunctionTypeSpecifyingExtension implements FunctionTypeSpecifyingExtension, TypeSpecifierAwareExtension\n+{\n+\n+\t\/** @var \\PHPStan\\Analyser\\TypeSpecifier *\/\n+\tprivate $typeSpecifier;\n+\n+\tpublic function isFunctionSupported(FunctionReflection $functionReflection, FuncCall $node, TypeSpecifierContext $context): bool\n+\t{\n+\t\treturn strtolower($functionReflection->getName()) === 'is_countable'\n+\t\t\t&& isset($node->args[0])\n+\t\t\t&& !$context->null();\n+\t}\n+\n+\tpublic function specifyTypes(FunctionReflection $functionReflection, FuncCall $node, Scope $scope, TypeSpecifierContext $context): SpecifiedTypes\n+\t{\n+\t\tif ($context->null()) {\n+\t\t\tthrow new \\PHPStan\\ShouldNotHappenException();\n+\t\t}\n+\n+\t\treturn $this->typeSpecifier->create(\n+\t\t\t$node->args[0]->value,\n+\t\t\tnew UnionType([\n+\t\t\t\tnew ArrayType(new MixedType(), new MixedType()),\n+\t\t\t\tnew ObjectType(\\Countable::class),\n+\t\t\t]),\n+\t\t\t$context\n+\t\t);\n+\t}\n+\n+\tpublic function setTypeSpecifier(TypeSpecifier $typeSpecifier): void\n+\t{\n+\t\t$this->typeSpecifier = $typeSpecifier;\n+\t}\n+\n+}"
        },
        {
            "sha": "bdc94bc6fa6714712c06e7842686da4a8cf3dc22",
            "filename": "src\/Type\/Php\/JsonThrowOnErrorDynamicReturnTypeExtension.php",
            "status": "added",
            "additions": 62,
            "deletions": 0,
            "changes": 62,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/JsonThrowOnErrorDynamicReturnTypeExtension.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/src\/Type\/Php\/JsonThrowOnErrorDynamicReturnTypeExtension.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/src\/Type\/Php\/JsonThrowOnErrorDynamicReturnTypeExtension.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,62 @@\n+<?php declare(strict_types = 1);\n+\n+namespace PHPStan\\Type\\Php;\n+\n+use PhpParser\\Node\\Expr\\FuncCall;\n+use PHPStan\\Analyser\\Scope;\n+use PHPStan\\Reflection\\FunctionReflection;\n+use PHPStan\\Reflection\\ParametersAcceptorSelector;\n+use PHPStan\\Type\\Constant\\ConstantBooleanType;\n+use PHPStan\\Type\\Constant\\ConstantIntegerType;\n+use PHPStan\\Type\\Type;\n+use PHPStan\\Type\\TypeCombinator;\n+\n+class JsonThrowOnErrorDynamicReturnTypeExtension implements \\PHPStan\\Type\\DynamicFunctionReturnTypeExtension\n+{\n+\n+\t\/** @var array<string, int> *\/\n+\tprivate $argumentPositions = [\n+\t\t'json_encode' => 1,\n+\t\t'json_decode' => 3,\n+\t];\n+\n+\tpublic function isFunctionSupported(\n+\t\tFunctionReflection $functionReflection\n+\t): bool\n+\t{\n+\t\treturn defined('JSON_THROW_ON_ERROR') && in_array(\n+\t\t\t$functionReflection->getName(),\n+\t\t\t[\n+\t\t\t\t'json_encode',\n+\t\t\t\t'json_decode',\n+\t\t\t],\n+\t\t\ttrue\n+\t\t);\n+\t}\n+\n+\tpublic function getTypeFromFunctionCall(\n+\t\tFunctionReflection $functionReflection,\n+\t\tFuncCall $functionCall,\n+\t\tScope $scope\n+\t): Type\n+\t{\n+\t\t$argumentPosition = $this->argumentPositions[$functionReflection->getName()];\n+\t\t$defaultReturnType = ParametersAcceptorSelector::selectSingle($functionReflection->getVariants())->getReturnType();\n+\t\tif (!isset($functionCall->args[$argumentPosition])) {\n+\t\t\treturn $defaultReturnType;\n+\t\t}\n+\n+\t\t$valueType = $scope->getType($functionCall->args[$argumentPosition]->value);\n+\t\tif (!$valueType instanceof ConstantIntegerType) {\n+\t\t\treturn $defaultReturnType;\n+\t\t}\n+\n+\t\t$value = $valueType->getValue();\n+\t\tif (($value & JSON_THROW_ON_ERROR) !== JSON_THROW_ON_ERROR) {\n+\t\t\treturn $defaultReturnType;\n+\t\t}\n+\n+\t\treturn TypeCombinator::remove($defaultReturnType, new ConstantBooleanType(false));\n+\t}\n+\n+}"
        },
        {
            "sha": "9f48675da2ad5a63f77d000d55931e0091d506f1",
            "filename": "tests\/PHPStan\/Analyser\/NodeScopeResolverTest.php",
            "status": "modified",
            "additions": 137,
            "deletions": 0,
            "changes": 137,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/NodeScopeResolverTest.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/NodeScopeResolverTest.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/tests\/PHPStan\/Analyser\/NodeScopeResolverTest.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -7608,6 +7608,143 @@ public function testGetParentClass(\n \t\t);\n \t}\n \n+\tpublic function dataIsCountable(): array\n+\t{\n+\t\treturn [\n+\t\t\t[\n+\t\t\t\t'array|Countable',\n+\t\t\t\t'$union',\n+\t\t\t\t\"'is'\",\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'string',\n+\t\t\t\t'$union',\n+\t\t\t\t\"'is_not'\",\n+\t\t\t],\n+\t\t];\n+\t}\n+\n+\t\/**\n+\t * @dataProvider dataIsCountable\n+\t * @param string $description\n+\t * @param string $expression\n+\t * @param string $evaluatedPointExpression\n+\t *\/\n+\tpublic function testIsCountable(\n+\t\tstring $description,\n+\t\tstring $expression,\n+\t\tstring $evaluatedPointExpression\n+\t): void\n+\t{\n+\t\tif (PHP_VERSION_ID < 70300) {\n+\t\t\t$this->markTestSkipped('Test requires PHP 7.3');\n+\t\t}\n+\t\t$this->assertTypes(\n+\t\t\t__DIR__ . '\/data\/is_countable.php',\n+\t\t\t$description,\n+\t\t\t$expression,\n+\t\t\t[],\n+\t\t\t[],\n+\t\t\t[],\n+\t\t\t[],\n+\t\t\t$evaluatedPointExpression\n+\t\t);\n+\t}\n+\n+\tpublic function dataPhp73Functions(): array\n+\t{\n+\t\treturn [\n+\t\t\t[\n+\t\t\t\t'string|false',\n+\t\t\t\t'json_encode($mixed)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'string',\n+\t\t\t\t'json_encode($mixed,  JSON_THROW_ON_ERROR)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'string',\n+\t\t\t\t'json_encode($mixed,  JSON_THROW_ON_ERROR | JSON_NUMERIC_CHECK)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'mixed',\n+\t\t\t\t'json_decode($mixed)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'mixed', \/\/ will be difference type (mixed minus false) in the future\n+\t\t\t\t'json_decode($mixed, false, 512, JSON_THROW_ON_ERROR | JSON_NUMERIC_CHECK)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'int|string|null',\n+\t\t\t\t'array_key_first($mixedArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'int|string|null',\n+\t\t\t\t'array_key_last($mixedArray)',\n+\t\t\t],\n+\t\t\t\/*[\n+\t\t\t\t'int|string',\n+\t\t\t\t'array_key_first($nonEmptyArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'int|string',\n+\t\t\t\t'array_key_last($nonEmptyArray)',\n+\t\t\t],*\/\n+\t\t\t[\n+\t\t\t\t'string|null',\n+\t\t\t\t'array_key_first($arrayWithStringKeys)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'string|null',\n+\t\t\t\t'array_key_last($arrayWithStringKeys)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'null',\n+\t\t\t\t'array_key_first($emptyArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'null',\n+\t\t\t\t'array_key_last($emptyArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'0',\n+\t\t\t\t'array_key_first($literalArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'2',\n+\t\t\t\t'array_key_last($literalArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'0',\n+\t\t\t\t'array_key_first($anotherLiteralArray)',\n+\t\t\t],\n+\t\t\t[\n+\t\t\t\t'2|3',\n+\t\t\t\t'array_key_last($anotherLiteralArray)',\n+\t\t\t],\n+\t\t];\n+\t}\n+\n+\t\/**\n+\t * @dataProvider dataPhp73Functions\n+\t * @param string $description\n+\t * @param string $expression\n+\t *\/\n+\tpublic function testPhp73Functions(\n+\t\tstring $description,\n+\t\tstring $expression\n+\t): void\n+\t{\n+\t\tif (PHP_VERSION_ID < 70300) {\n+\t\t\t$this->markTestSkipped('Test requires PHP 7.3');\n+\t\t}\n+\t\t$this->assertTypes(\n+\t\t\t__DIR__ . '\/data\/php73_functions.php',\n+\t\t\t$description,\n+\t\t\t$expression\n+\t\t);\n+\t}\n+\n \tprivate function assertTypes(\n \t\tstring $file,\n \t\tstring $description,"
        },
        {
            "sha": "fc7900ee956fd6a43888bca3346a902eaa1610d8",
            "filename": "tests\/PHPStan\/Analyser\/data\/is_countable.php",
            "status": "added",
            "additions": 22,
            "deletions": 0,
            "changes": 22,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/data\/is_countable.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/data\/is_countable.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/tests\/PHPStan\/Analyser\/data\/is_countable.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,22 @@\n+<?php\n+\n+namespace IsCountable;\n+\n+class Foo\n+{\n+\n+\t\/**\n+\t * @param array|\\Countable|string $union\n+\t *\/\n+\tpublic function doFoo(\n+\t\t$union\n+\t)\n+\t{\n+\t\tif (is_countable($union)) {\n+\t\t\t'is';\n+\t\t} else {\n+\t\t\t'is_not';\n+\t\t}\n+\t}\n+\n+}"
        },
        {
            "sha": "06dca86927620102dae79b4a03a0a4b306b61163",
            "filename": "tests\/PHPStan\/Analyser\/data\/php73_functions.php",
            "status": "added",
            "additions": 35,
            "deletions": 0,
            "changes": 35,
            "blob_url": "https:\/\/github.com\/phpstan\/phpstan\/blob\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/data\/php73_functions.php",
            "raw_url": "https:\/\/github.com\/phpstan\/phpstan\/raw\/f0252a5ab6b4a293fb25f218d9c64386f272280f\/tests\/PHPStan\/Analyser\/data\/php73_functions.php",
            "contents_url": "https:\/\/api.github.com\/repos\/phpstan\/phpstan\/contents\/tests\/PHPStan\/Analyser\/data\/php73_functions.php?ref=f0252a5ab6b4a293fb25f218d9c64386f272280f",
            "patch": "@@ -0,0 +1,35 @@\n+<?php\n+\n+namespace Php73Functions;\n+\n+class Foo\n+{\n+\n+\t\/**\n+\t * @param $mixed\n+\t * @param array $mixedArray\n+\t * @param array $nonEmptyArray\n+\t * @param array<string, mixed> $arrayWithStringKeys\n+\t *\/\n+\tpublic function doFoo(\n+\t\t$mixed,\n+\t\tarray $mixedArray,\n+\t\tarray $nonEmptyArray,\n+\t\tarray $arrayWithStringKeys\n+\t)\n+\t{\n+\t\tif (count($nonEmptyArray) === 0) {\n+\t\t\treturn;\n+\t\t}\n+\n+\t\t$emptyArray = [];\n+\t\t$literalArray = [1, 2, 3];\n+\t\t$anotherLiteralArray = $literalArray;\n+\t\tif (rand(0, 1) === 0) {\n+\t\t\t$anotherLiteralArray[] = 4;\n+\t\t}\n+\n+\t\tdie;\n+\t}\n+\n+}"
        }
    ]
}